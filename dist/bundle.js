(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(void 0,o=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,"string");if("object"!==e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(a.key),"symbol"===e(o)?o:String(o)),a)}var o}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var n=0,a=r((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n++,this.name=t;for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];this.losers=new Set(a)}));a.prototype.beats=function(e){return this.losers.has(e.name)};var o=new a("scissors","paper","lizard"),c=new a("paper","rock","spock"),l=new a("rock","lizard","scissors"),i=new a("lizard","spock","paper"),s=new a("spock","scissors","rock"),u=[o,c,l],m=[o,c,l,i,s];function f(e,t){var r=document.createElement(e);t&&Object.assign(r,t);for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];for(var c=0,l=a;c<l.length;c++){var i=l[c];"string"==typeof i?r.appendChild(document.createTextNode(i)):r.appendChild(i)}return r}function g(){return"true"===localStorage.getItem("isOriginalGame")}function p(){return g()?u:m}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,l=[],i=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=React.useState;function h(e){var t=e.gestures,r=e.onEnd,n=y(d("picking"),2),a=n[0],o=n[1],c=y(d(null),2),l=c[0],i=c[1],s=y(d(null),2),u=s[0],m=s[1],f="picking"===a,g="house_picking"===a,p="lost"===a||"won"===a||"tie"===a;return React.createElement("div",{className:"game"},f&&React.createElement(b,{gestures:t,onPick:function(e){i(e),o("house_picking"),setTimeout((function(){var n,a=(n=t)[Math.floor(Math.random()*n.length)];m(a),setTimeout((function(){var t;t=e.beats(a)?"won":a.beats(e)?"lost":"tie",r(t),o(t)}),1e3)}),750)}}),g&&React.createElement(R,{playerGesture:l,houseGesture:u}),p&&React.createElement(E,{status:a,playerGesture:l,houseGesture:u,onPlayAgain:function(){m(null),i(null),o("picking")}}))}function b(e){var t=e.gestures,r=e.onPick;return React.createElement("div",{className:3===t.length?"original-pick":"bonus-pick"},t.map((function(e){return React.createElement(k,{gesture:e,onPick:r,key:e.id})})))}function R(e){var t=e.playerGesture,r=e.houseGesture;return React.createElement("div",{className:"two-gesture-container"},React.createElement(k,{gesture:t}),React.createElement("p",{className:"player-pick-message pick-message"},"You picked"),React.createElement(k,{gesture:r}),React.createElement("p",{className:"house-pick-message pick-message"},"The house picked"))}function E(e){var t,r=e.status,n=e.playerGesture,a=e.houseGesture,o=e.onPlayAgain;return t="won"===r?"You win":"lost"===r?"You lose":r,React.createElement("div",{className:"game-conclusion"},React.createElement(k,{gesture:n}),React.createElement(k,{gesture:a}),React.createElement("p",{className:"player-pick-message pick-message"},"You picked"),React.createElement("p",{className:"house-pick-message pick-message"},"The house picked"),React.createElement("div",{className:"message-container"},React.createElement("p",{className:"message"},t),React.createElement("button",{className:"btn secondary-btn",onClick:o},"Play again")))}function k(e){var t=e.gesture,r=e.onPick,n=e.highlight;return t?React.createElement("div",{className:"gesture "+t.name+(n?"highlighted":""),onClick:function(){r&&r(t)}},React.createElement("img",{src:"./images/icon-".concat(t.name,".svg"),className:"icon"})):React.createElement("div",{className:"gesture empty"})}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,l=[],i=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=React.useState;function A(){var e=w(N(Number(localStorage.getItem("score"))||0),2),t=e[0],r=e[1],n=w(N(p()),2),a=n[0],o=n[1],c=w(N(g()),2),l=c[0],i=c[1];return React.createElement("div",{id:"wrapper"},React.createElement(O,{score:t,isOriginalGame:l}),React.createElement(h,{gestures:a,onEnd:function(e){if("won"===e){var n=t+1;r(n),localStorage.setItem("score",n)}else if("lost"===e){var a=Math.max(t-1,0);r(a),localStorage.setItem("score",a)}}}),React.createElement(j,{onShowRules:function(){return e=l?"./images/image-rules.svg":"./images/image-rules-bonus.svg",t=f("div",{id:"rules-modal"},f("div",{className:"top"},f("h2",null,"Rules"),f("img",{src:"./images/icon-close.svg",alt:"Close Icon",className:"close-icon",onclick:function(){t.remove()}})),f("img",{src:e,alt:"Game's rules"})),void document.body.appendChild(t);var e,t},onChangeGame:function(){i(!l),localStorage.setItem("isOriginalGame",!l),o(p())}}),React.createElement(C,null))}function O(e){var t=e.score,r=e.isOriginalGame?"./images/logo.svg":"./images/logo-bonus.svg";return React.createElement("header",null,React.createElement("img",{src:r}),React.createElement("div",{className:"score-container"},React.createElement("span",{className:"text"},"Score"),React.createElement("span",{className:"score"},t)))}function j(e){var t=e.onChangeGame,r=e.onShowRules;return React.createElement("div",{className:"buttons"},React.createElement("button",{className:"btn primary-btn",onClick:r},"Rules"),React.createElement("button",{className:"btn primary-btn",onClick:t},React.createElement("i",{className:"fa-solid fa-repeat"})," original/bonus"))}function C(){return React.createElement("footer",null,"Challenge by ",React.createElement("a",{href:"https://www.frontendmentor/"},"Front End Mentor"),". Coded by ",React.createElement("a",{href:"https://github.com/rafaeldevvv"},"Rafael Maia"))}(0,ReactDOM.createRoot)(document.querySelector("#root")).render(React.createElement(A,null))})();